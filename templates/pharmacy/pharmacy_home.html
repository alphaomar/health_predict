{% extends 'base/index.html' %}
{% load static %}

{% block content %}
<div class="container-fluid" style="max-width: 900px;">  <!-- Reduced max-width -->
    <h1 class="text-center mb-4">Pharmacies</h1>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        {% for pharmacy in pharmacies %}
        <div class="col">
            <div class="card h-100" style="border: 2px solid #007bff; border-radius: 10px; overflow: hidden;">
                <div class="card-body p-3">
                    <div class="text-center mb-2">
                        {% if pharmacy.pharmacy_image %}
                        <img src="{{ pharmacy.pharmacy_image.url }}" class="rounded-circle" alt="{{ pharmacy.name }}" style="width: 80px; height: 80px; object-fit: cover; border: none;">
                        {% else %}
                        <i class="fas fa-pharmacy-alt fa-3x text-primary"></i>
                        {% endif %}
                    </div>
                    <h5 class="card-title text-center mb-2">{{ pharmacy.name }}</h5>
                    <p class="card-text small text-center mb-1">{{ pharmacy.address }}</p>
                    <p class="card-text small text-center mb-1">Working hrs: {{ pharmacy.working_hours }}</p>
                    <p class="card-text small text-center text-muted mb-2">Contact: {{ pharmacy.contact_number }}</p>
                </div>
                <div class="card-footer bg-transparent border-top-0 text-center pt-0">
                    <a href="{% url 'pharmacy:pharmacy_medications' pharmacy_id=pharmacy.id %}" class="btn btn-sm btn-outline-primary">View Details</a>
                </div>
            </div>
        </div>
        
        {% empty %}
        <div class="col-12">
            <p class="text-center">No pharmacies found.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}